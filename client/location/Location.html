<template name="Location">
  {{> ContentHeader title="Location" subTitle=""}}
  <section class="content">
    {{> flashMessages}}
    <div class="row">
      <div class="col-md-3">
        <div class="box box-primary">
          <div class="box-body box-profile">
            <h3 class="profile-username text-center">{{location.name}}</h3>
            <ul class="list-group list-group-unbordered">
              <li class="list-group-item">{{location.street}}</li>
              <li class="list-group-item">{{location.city}}</li>
              <li class="list-group-item">{{location.state}}</li>
              <li class="list-group-item">{{location.zipcode}}</li>
            </ul>
            <a href="#" class="btn btn-warning btn-block edit-location"><i class="fa fa-pencil"></i> Edit</a>
          </div>
        </div>

        {{> SensorList locationId=location._id}}
      </div>

      <div class="col-md-9">
        {{#if $.Session.get 'editLocation'}}
        <div class="box">
          <div class="box-header with-border">
            <h3 class="box-title">Edit Location</h3>
            <div class="box-tools pull-right">
              <a href="#" title="Cancel" class="btn btn-xs btn-danger cancel-edit-location"><i class="fa fa-times"></i> Cancel</a>
            </div>
          </div>
          <div class="box-body">
            {{> quickForm collection="Location" id="updateLocationForm" type="update" class="new-location-form" doc=location}}
          </div>
        </div>
        {{else}}
        {{#if $.Session.get 'newSensor'}}
          {{> NewSensor}}
        {{else}}
          {{> SensorDetails}}
        {{/if}}
        {{/if}}
      </div>
    </div>

  </section>
</template>
